<odoo>
    <data noupdate="1">

<!--        <record id="task_management_rule_assigned_user" model="ir.rule">-->
<!--            <field name="name">Task: Assigned User Can View Only Their Tasks</field>-->
<!--            <field name="model_id" ref="model_task_management"/>-->
<!--            <field name="domain_force">['|', ('user_id', '=', user.id), ('user_has_groups', 'task_management.group_admin,task_management.group_inspector')]-->
<!--</field>-->
<!--            <field name="groups" eval="[(4, ref('base.group_user'))]"/>-->
<!--        </record>-->

         <record id="rule_task_management_create_restriction" model="ir.rule">
            <field name="name">Restrict Task Creation to Admin and Inspector</field>
            <field name="model_id" ref="model_task_management"/>
            <field name="groups" eval="[(4, ref('task_management.group_admin')), (4, ref('task_management.group_inspector'))]"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_unlink" eval="1"/>
            <field name="domain_force">[(1, '=', 1)]</field>
        </record>
        <record id="rule_task_management_user_creation_rule" model="ir.rule">
                <field name="name">Deny Task Creation for User and Reporting Manager</field>
                <field name="model_id" ref="model_task_management"/>
                <field name="groups" eval="[(4, ref('task_management.group_user'))]"/>
                <field name="perm_create" eval="0"/>
                <field name="perm_read" eval="1"/>
                <field name="perm_write" eval="1"/>
                <field name="perm_unlink" eval="0"/>
                <field name="domain_force">[('status', '=', 'user_check')]</field>
        </record>

         <record id="task_completed_reporting_manager" model="ir.rule">
            <field name="name">Only Completed Tasks for Reporting Manager</field>
            <field name="model_id" ref="model_task_management"/> <!-- Adjust with your task model name -->
            <field name="domain_force">[('status', 'in', ['completed', 'reporting'])]</field>
            <field name="groups" eval="[(4, ref('task_management.group_reporting_manager'))]"/>
            <field name="perm_read" eval="1"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_unlink" eval="0"/>
        </record>
    </data>
</odoo>